<!DOCTYPE html>
<html>
<head>
  <title>Chat Application</title>
</head>
<body>
  <input id="username" placeholder="Enter your username">
  <input id="recipient" placeholder="Enter the recipient's username">
  <input id="message" placeholder="Enter your message">
  <button id="send">Send</button>
  <ul id="messages"></ul>
  <script src="/socket.io/socket.io.js"></script>
  <script>
    const socket = io()
    const usernameInput = document.getElementById('username')
    const recipientInput = document.getElementById('recipient')
    const messageInput = document.getElementById('message')
    const messagesList = document.getElementById('messages')
    const sendButton = document.getElementById('send')
    
    sendButton.addEventListener('click', () => {
      const username = usernameInput.value
      const recipient = recipientInput.value
      const message = messageInput.value
      if (username && recipient && message) {
        socket.emit('chat message', { username, recipient, message })
        messageInput.value = ''
      }
    })
    
    socket.on('chat message', ({ username, message }) => {
      const li = document.createElement('li')
      li.textContent = `${username}: ${message}`
      messagesList.appendChild(li)
    })
  </script>
</body>
</html>
